<table id="classification_table">
	<tr class="class_table_row">
		<th class="class_table_td">Neutrophilic
		<th class="class_table_td">Other granulocytic
		<th class="class_table_td">Lymphoid
		<th class="class_table_td">Erythroid
		<th class="class_table_td">Misc
	<tr class="class_table_row">
		<td class="class_table_td" id="count_M1">Blast (1):
		<td class="class_table_td" id="count_E1">Immature Eo (q):
		<td class="class_table_td" id="count_L0">Lymphobast (a):
		<td class="class_table_td" id="count_ER1">Pronormoblast (z):						
		<td class="class_table_td" id="count_U1">Artifact (7):
	<tr class="class_table_row">
		<td class="class_table_td" id="count_M2">Promyelocyte (2):
		<td class="class_table_td" id="count_E2">Eosinophil (w):
		<td class="class_table_td" id="count_L1">Hematogone (s):
		<td class="class_table_td" id="count_ER2">Basophilic normoblast (x):						
		<td class="class_table_td" id="count_U2">Unknown (8):
	<tr class="class_table_row">
		<td class="class_table_td" id="count_M3">Myelocyte (3):
		<td class="class_table_td" id="count_B1">Immature Baso (e):
		<td class="class_table_td" id="count_L2">Mature Lymphocyte (d):
		<td class="class_table_td" id="count_ER3">Polychromatophilic (c):						
		<td class="class_table_td" id="count_U3">Other (9):
	<tr class="class_table_row">
		<td class="class_table_td" id="count_M4">Metamyelocyte (4):
		<td class="class_table_td" id="count_B2">Basophil (r):
		<td class="class_table_td" id="count_L3">LGL (f):
		<td class="class_table_td" id="count_ER4">Orthochromic/nuc red (v):						
		<td class="class_table_td" id="count_U4">Histiocyte (0):
	<tr class="class_table_row">
		<td class="class_table_td" id="count_M5">Band (5):
		<td class="class_table_td" id="count_MO1">Monoblast (t):
		<td class="class_table_td" id="count_L4">Plasma cell (g):
		<td class="class_table_td" id="count_ER5">Reticulocyte (b):						
		<td class="class_table_td" id="count_UL">Unlabelled (u): 						
		
	<tr class="class_table_row">
		<td class="class_table_td" id="count_M6">Seg (6):
		<td class="class_table_td" id="count_MO2">Monocyte (y):
		<td class="class_table_td">
		<td class="class_table_td" id="count_ER6">Mature RBC (n):	
		<td class="class_table_td">	
</table>
<div id="test_keyboard">Last Key Pressed: </div>


<script>

$ (document).ready(function() {
	console.log('entering big_table.html scripts');

	class BigTable {
		static labelCurrentCell(command_code) {
			if (Cell.currentCellCID ()==-1) {
				console.log("BigTable:labelCurrentCell: No current cell selected");
				return;
			}

			else {
				Cell.labelCurrentCell(command_code);
			}
		}

		static addKeyboardEventListeners(){
			window.addEventListener('keyup', (e) => {
				var code = e.code;
				document.getElementById('test_keyboard').innerHTML = 'code = ' + code;

				console.log(typeof code, code)
				switch(code) {
					case "Digit1": BigTable.labelCurrentCell('M1'); break;
					case "Digit2": BigTable.labelCurrentCell('M2'); break;
					case "Digit3": BigTable.labelCurrentCell('M3'); break;
					case "Digit4": BigTable.labelCurrentCell('M4'); break;
					case "Digit5": BigTable.labelCurrentCell('M5'); break;
					case "Digit6": BigTable.labelCurrentCell('M6'); break;

					case "KeyQ": BigTable.labelCurrentCell('E1'); break;
					case "KeyW": BigTable.labelCurrentCell('E2'); break;
					case "KeyE": BigTable.labelCurrentCell('B1'); break;
					case "KeyR": BigTable.labelCurrentCell('B2'); break;
					case "KeyT": BigTable.labelCurrentCell('MO1'); break;
					case "KeyY": BigTable.labelCurrentCell('MO2'); break;

					case "KeyA": BigTable.labelCurrentCell('L0'); break;
					case "KeyS": BigTable.labelCurrentCell('L1'); break;
					case "KeyD": BigTable.labelCurrentCell('L2'); break;
					case "KeyF": BigTable.labelCurrentCell('L3'); break;
					case "KeyG": BigTable.labelCurrentCell('L4'); break;

					case "KeyZ": BigTable.labelCurrentCell('ER1'); break;
					case "KeyX": BigTable.labelCurrentCell('ER2'); break;
					case "KeyC": BigTable.labelCurrentCell('ER3'); break;
					case "KeyV": BigTable.labelCurrentCell('ER4'); break;
					case "KeyB": BigTable.labelCurrentCell('ER5'); break;
					case "KeyN": BigTable.labelCurrentCell('ER6'); break;

					case "Digit7": BigTable.labelCurrentCell('U1'); break;
					case "Digit8": BigTable.labelCurrentCell('U2'); break;
					case "Digit9": BigTable.labelCurrentCell('U3'); break;
					case "Digit0": BigTable.labelCurrentCell('U4'); break;

					case "KeyU": BigTable.labelCurrentCell('UL'); break;

				}
			});
		}
	}
	
	BigTable.addKeyboardEventListeners();
});

</script>